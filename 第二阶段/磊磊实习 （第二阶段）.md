# Day One



## 一、Web 前端（内容概述）：

- html ---------------------------------------------------------------- 决定前端架构

- css------------------------------------------------------------------- 决定前端样式

- js--------------------------------------------------------------------- 决定页面行为

- jQuery ( js 框架 )

- Bootstrap( css框架 )

- AJAX

- json

  - vue框架------------------------------------------------------将数据快速转换成页面




## 二、工具：

#### 	1.文本编辑器：

​			VS code

#### 	2.集成环境（IDE）:

- Dreamweaver			

- Webstorm

- HBuilder


## 免费mp3音乐：

http://www.zgei.com/



## 三、HTML

### 1.什么是HTML

1. HTML 是用来描述王爷的一种语言
2. HTML 是指超文本标记语言
3. HTML 不是一种编程语言，而是一种标记语言
4. 标记语言是一套标记标签
5. HTML使用标记标签来描述网页



```html
<!DOCTYPE html>                                            <--html版本-->

<html lang="en">
<!--

普通标签：
<标签名 属性名 = "属性值" ...>   标签体(可以继续是标签)	</标签>

自结束标签：
<标签名 属性名 = "属性值" ... />

-->
    

<head>
  <meta charset="UTF-8">
  <title>Document</title>
</head>

<body>  
</body>

</html>
```



### 2.HTML 元素：

块元素：块元素比较霸道，会默认占满当前行，不管是否适用，

内联元素：默认情况下使用多少空间就会占用多少空间

块元素可以包含内联元素和块元素，内联元素只能包含内联元素。



### 3. 部分标签：



### （1）格式标签：

```html
<ol>---------------------------------------------有序列表
    <li></li>
</ol>
```

<ul>

</ul>

```html
<ul>---------------------------------------------无序列表
	<li></li>
</ul>
```



```html
多级标签：
<dd> </dd>
<dl> </dl>
<dt> <dt>
```



### （2）文本标签：

​		

```html
<b>粗体</b>

<i>斜体</i>

<i><b>斜体粗体</n></i>

<u>下划线</u>

<del>贯串线</del>

A<sub>2</sub>----------------上指标
```



```html
<marquee>弹幕类</marquee>
```

 属性：

```
**behavior**： 设置文本如何滚动。属性值有3种：
 `scroll` - 循环滚动。默认值。
 `slide` - 滚动一次。
 `alternate` - 两端来回滚动。

**direction**： 设置文本滚动的方向。属性值有4种：
 `left` - 从右向左。默认值。
 `right` - 从左向右。
 `up` - 向上。
 `down` - 向下。

**loop**： 设置滚动的次数。默认值`-1`，无限次循环。

**scrollamount**： 设置每次滚动时移动的长度（以像素为单位），也就是滚动速度。默认值为`6` 。
 值越大，滚动速度越快，一般5-10比较适合查看消息。

**scrolldelay**： 设置每次滚动时的时间间隔（以毫秒为单位）。默认值为 85。
 值越大，滚动速度越慢，通常不设置。
 *注意：除非指定 truespeed 值，否则将忽略任何小于 60 的值，并改为使用 60。*

**truespeed**： 默认情况下，会忽略小于60的scrolldelay值。如果存在truespeed，那些值不会被忽略。
 **bgcolor**： 通过颜色名称或十六进制值设置背景颜色。
 **vspace**：以像素或百分比值设置垂直边距。
 **width**：以像素或百分比值设置宽度。
 **height**：以像素或百分比值设置高度。
 **hspace**：设置水平边距。
```



### （3）超链接标签

```html
<a href = "链接地址" >跳转连接</a>

<a href = "javascript:alert("内容")">弹框连接</a>

<a href = "tomail:softeem@163.com">邮箱链接</a>

<a href = "javascript:void(0)">失效的连接</a>

<a href = "地址" target = "_self">在本页面跳转</a>

<a href = "地址" target = "_blank">打开新的页面跳转</a>
```



### （4）菜单切换内容：

​			内联框架：

​					在当前页面的方框内进行切换

```html
<iframe></iframe>
```

​		并将	target	中的指向改成目标路径；

​		将  target  改成  _parent  可在整个页面中打开页面



**例子：**

```html
  <a href="https://www.baidu.com" target="my_iframe">百度</a>
  <a href="https://www.qq.com" target="my_iframe">腾讯</a>
  <a href="https://www.163.com" target="my_iframe">网易</a>

 <iframe name="my_iframe" width="100%" height="500px"></iframe>
```



### （5）锚链接

```html
<h2><a href="#one_page"></a></h2>
```

通过 id 为 one_page 来寻找页面



### （6）多媒体标签

图片：

```html
<img src = "图片路径" alt ="显示异常" title="悬停提示"></img>
```

视频：

```html
<audio src= "路径" controls = "controls"></audio>
```

画布：

```html
<canvas></canvas>

<!--属性：-->
宽高
```



例子：

```html
  <img src="one.png" alt="大镖客" width="700px" height="500px">
        <h2>屋顶</h2>
        <br>
        <audio src="1.mp3" controls="controls"></audio>

        <audio src="2.m4a" controls="controls"></audio>
        <br>
        <canvas width="500px" height="250px" style="border: 2px solid #00f; background-color: #f0f;"></canvas>
```



### （7）表格

```html
定义表格
<table border ="边框" （cellspacing ="单元格之间的空白" cellpadding ="单元边沿与其内容之间的空白" h5中不再支持）>
	定义表头
	<thead>
		定义行
		<tr>
			定义表头列
			<th></th>
			<th></th>
			<th></th>
			<th></th>
		</tr>
	</thead>
	定义表格内容
	<tbody>
		定义行
		<tr>
		定义每个单元格
			<td></td>
			<td></td>
			<td></td>
			<td></td>
		</tr>
	</tbody>
</table>


<style>
        table{
            border-collapse: collapse;
        }
    </style>
跨行：
colpan
rowpan

```

### （8）表单

form表单传输的都是 value中的内容！

所以不管什么属性要传向后端都要把内容放在value属性中

```html
<form>
	<input type ="类型" name ="名字" value = "值" placeholder = "提示信息"> 
</form>
```



**下拉选项**

```html
<select>
	<option>1</option>
	<option>2</option>
	<option>3</option>
	<option>4</option>
</select>
```





**绑定文字和标签，把多个标签绑定到一起**

使用label标签

```html
<label> 标签 文字 </label>
```



**默认选择：**

使用checked属性

```html
<input tyoe="radio" name = "" value ="" checked>
```



**上传文件**

如果表单需要上传文件，则必须修改上传方式，通过二进制流的形式进行上传

```html
entype = "multipart/form-data"
```

```html
<input type="file"></input>
```



例子：

```html
<table border="1" cellpadding = "20">
        <thead>
            <tr>
                <th>学号</th>
                <th>姓名</th>
                <th>性别</th>
                <th>电话</th>
                <th>地址</th>
            </tr>
        </thead>
        
        <tbody>
            <tr>
                <td>1</td>
                <td>法外狂徒</td>
                <td>男</td>
                <td>134888888</td>
                <td>艾欧里亚</td>
            </tr>
            <tr>
                <td>2</td>
                <td>疾风剑豪</td>
                <td>男</td>
                <td>134888888</td>
                <td>艾欧里亚</td>
            </tr>

            <tr>
                <td>3</td>
                <td>时间刺客</td>
                <td>男</td>
                <td>1345555555</td>
                <td>祖安</td>
            </tr>
        </tbody>
      </table>

      <form action="">
          <table>
            <tr>
                <th>用户名：</th>
                <td><input type="text" placeholder="请输入用户名" name="username"></td>
            </tr>
            <tr>
                <th>密码：</th>
                <td><input type="password" placeholder="请输入密码" name="password"></td>
            </tr>

            <tr>
                <th>性别：</th>
                <label><td><input type="radio" name="sex" value="1">男</td></label>
                <label><td><input type="radio" name="sex" value="2">女</td></label>
            </tr>

            <tr>
                <th>地址：</th>
                <td><select name="adress">
                    <option value="1">武汉</option>
                    <option value="2">宜昌</option>
                    <option value="3">襄阳</option>
                    <option value="4">荆州</option>
                </select></td>
            </tr>

            <tr>
                <th>是否同意服务：</th>
                <td><input type="checkbox"  name="checkbox" value="1">同意</td>
            </tr>

            <tr>
                <td><input type="submit" name="submit" value="登录"></td>
            </tr>
          </table>          
      </form>
```



### （9）分区标签

为了划分区域，单独修改样式.



#### 1、div标签

​				块元素



#### 2、span标签

​				内联元素





# Day two	

从上面（7）开始即是今天开始讲的内容



## 一、CSS选择器

1. 层叠样式表
2. CSS可以为网页创建样式表，通过样式表对网页进行修饰
3. 高层次覆盖低层次的
4. 分别为各个层级设置各个样式



### 1.基本语法



​	由一个一个的样式构成，一个样式由选择器和声明块构成

​			**下面的权重从高到低**

**内联样式**

```html
<标签名 style = "样式">

样式：  "color:red;"
```

例子：

```html
<div style="color: red;">用户名：</div>
```

**基本方法**

```html
选择器{
	<--样式-->
	div{
		color:red;
	}
}
```

例子：

```html
<style>
        div{
            color: blue;
        }
</style>
```



注：a标签默认样式不能继承，可进行修改：

```css
a{
	color:inherit;
}
```



**外部引入**

```css
<link ref="stylesheet" href = "css路径">

css中的语法：

div{
	color:red;
}
```



**颜色设置：**

rgb( 红色，绿色 ，蓝色)

rgba( 红色， 绿色， 蓝色，透明度（0-1） )



例子：

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <style>
        th{
            color: #0f0;
        }
    </style>
    <title>Document</title>
</head>
<body >
    <!-- <style>
        table{
            border-collapse: collapse;
        }
    </style> -->
      <table border="1" cellpadding = "20">
        <thead>
            <tr>
                <th>学号</th>
                <th>姓名</th>
                <th>性别</th>
                <th>电话</th>
                <th>地址</th>
            </tr>
        </thead>
        
        <tbody>
            <tr>
                <td>1</td>
                <td>法外狂徒</td>
                <td>男</td>
                <td>134888888</td>
                <td>艾欧尼亚</td>
            </tr>
            <tr>
                <td>2</td>
                <td>疾风剑豪</td>
                <td>男</td>
                <td>134888888</td>
                <td>艾欧里亚</td>
            </tr>

            <tr>
                <td>3</td>
                <td>时间刺客</td>
                <td>男</td>
                <td>1345555555</td>
                <td>祖安</td>
            </tr>
        </tbody>
      </table>
      
      <canvas style="width: 500px;height: 300px;border: 1px solid;background-color: #f00;"></canvas>

      <form action="">
          <table>
            <tr>
                <th style="color:#ffee00;">用户名：</th>
                <td><input type="text" placeholder="请输入用户名" name="username"></td>
            </tr>
            <tr>
                <th>密码：</th>
                <td><input type="password" placeholder="请输入密码" name="password"></td>
            </tr>

            <tr>
                <th>性别：</th>
                <label><td><input type="radio" name="sex" value="1">男</td></label>
                <label><td><input type="radio" name="sex" value="2">女</td></label>
            </tr>

            <tr>
                <th>地址：</th>
                <td><select name="adress">
                    <option value="1">武汉</option>
                    <option value="2">宜昌</option>
                    <option value="3">襄阳</option>
                    <option value="4">荆州</option>
                </select></td>
            </tr>

            <tr>
                <th>是否同意服务：</th>
                <td><input type="checkbox"  name="checkbox" value="1">同意</td>
            </tr>

            <tr>
                <td><input type="submit" name="submit" value="登录"></td>
            </tr>
          </table>          
      </form>
</body>
</html>
```



### 2.CSS基本选择器

**id 选择器**

```css
# id名 {
	css 样式
}
```

**类选择器**

```css
. 类名 {
	CSS 样式
}
```

**复合选择器**

两个选择器做交集运算，复合选择器中间不要加空格

例如：

```css
p.test{
	选中class为text的p标签
}

p#name{
	选中id为name的p标签
}
```

例子：

```css
h1#ti{
          color: blue;
      }
```

**分组选择器**

分组中的所有标签的属性都进行改

```css
h1,h2{
//修改 h1 和 h2 标签的样式
}
```

**通用选择器**

```css
*{
样式
}
```

### 3.进阶的选择器

**子代选择器**

​	用 > 来找子元素

```css
#ooo > div{
            color: aqua;
        }
```



**后代选择器**

```css
用空格来找后代元素

#ooo p{
            color: blueviolet;
        }
```

​	

**兄弟选择器**

​	+号：后面的一个兄弟

​	~（波浪线）：后面的所有兄弟

```css
#ooo+div{
            color: aqua;
        }
```



**伪类选择器**

一个标签多个不同的状态

- 正常的链接

```css
a:link{
	
}
```

例子：

```css
a:active{
            background-color: aqua;
        }
```

- -----------------------------------------------------------------------------------------------------

- 被访问过链接

```css
a:visited{

}
```

上面两个伪类仅适用于a标签；

```css
a:visited{
            background-color: aqua;
        }
```

- -------------------------------------------------------------------------------------------------------------------------------------------------------------------------

- 鼠标悬停

```css
a:hover{

}
```

例子：

```css
a:hover{
            background-color: aqua;
        }
```

-------------------------------------------------------------------------------------------------------------------------------

- 鼠标按下

```css
a:active{
    
}
```

例子：

```css
a:active{
            background-color: aqua;
        }
```



-------------------------------------------------------------------------------------------------------------------------------

**其他**

```css
p:before         			（ 某某元素前面添加内容，无法被复制 ）
p:after          			（ 某某元素后面添加内容，无法被选中 ）
p:focus          			（ 聚焦选中 ）
p:first-letter   			（ 首字母 ）
p:first-line     			（ 首  行 ）
p:first-child				（ 关于该父元素的第一个子元素 ）（所有类型的第一个）
p:first-of-type  			（ 选中第一个关于这类型的孩子 ）（同类型）
p:nth-of-type(n)    		（选择每个p元素是其父级的第二个n元素）
p:only            			（ p是其父元素的唯一子元素 ）
plate apple:only-child		（选中plate 下的apple 作为唯一标签的元素）
p:nth-last-child(n)   		（选择每个p元素的是其父级的第n个子元素，从最后一个子项计数 ）
p:nth-child(n)         		（选择每个p元素是其父级的第b个子元素）
```



# Day three

（伪类选择器以下都是今天的内容）

## 二、CSS样式

### 1.文字样式

**设置大小** 	font-size  

```css
font-size:10em;
```

 **设置字体类型** 	font-family  

```css
font-family: '仿宋';
```

**设置文字样式**	font-style（值：设置斜体 italic）

```css
font-style: italic;
```

**设置文字粗细**     font-weight   

```css
font-weight:bold;
```

**设置行高**   	line-height

```css
line-height: 50px;
```

**设置下划线**    text-decoration:    （underline，none）

（可用于消除a标签下面的下划线）

```css
text-decoration: none;
```

**内容显示方式**    text-align

​	属性：left  , right  , center

```css
text-align: right;
```

**首行缩进**			text-indent 

```css
text-indent: 30px;
```



**综合：**

```css
 #k2{
            text-align: right;
            font-size: 100px;
            font-family: '仿宋';
            font-style: italic;
            font-weight:bold;
            line-height: 50px;
        }
        #ti{
            text-indent: 30px;
        }
        a{
            text-decoration: none;
        }

        a:hover{
            text-align: center;
            font-size: 100px;
        }
```





## 三、盒模型

### 1.内容区域的宽高

​		width、heigh

```css
width:100px;
heigh:100px;
```

### 2.内边距

​		padding

```css
padding:10px;
```

### 3.外边距

​		margin

```css
margin : 10px; 
```

上面设置边距的宽度时，

- 如果输入一个值，则表示全部都按同一边距
  - 如果输入两个值，则表示上下，左右
  - 若果输入三个值，则表示上  左右   下
- 如果输入四个值，则表示  上   右   下    左   

### 4.边框

​		border 

​		有三个属性，分别用来设置：粗细，颜色，单双线。

```css
border : 10px black solid;

```



**注意事项：**

- 内联元素不支持设置宽高。

- 内联元素的上边内间距不会使元素改变位置。
- 内联元素的外间距只会对左右生效，上下无效。

- 外间距会存在穿透问题，尽量不要让外盒子和内盒子紧贴在一起
- 设置居中的两种css方式 ：
  - text-align : center ;
  - margin : auto ;

### 5.常用属性

​	设置宽高：

​				width，height 

​	设置标签的显示方式：

​				**display：（block ，inline ，inline-block ，none ，）**；

​	设置标签是否隐藏：

​				**visibility ：（hidden，visibility）**

​	控制内容超过盒子容量时候进行隐藏

​				**overflow：(**

​							**auto : 根据需要添加滚动条**

​							**scroll : 添加滚动条**

​							**hidden：隐藏超出盒子的内容**

​							**visible：默认值**

**)**



​	例子：

```css
.outline{
            background-color: #aaa;
            margin: auto;
            width: 500px;
            height: 100px;
            overflow: auto;
            
        }
        p{  
            text-align: center;
        }
```

​	

# Day four

从注意事项开始就是今天的内容。

## 一、文档流

- 从左到右，从上到下依次存放。

- 元素依次排放。



## 二、浮动



脱离文档流。

浮动之后，行内元素就变成内联块元素，且无法被修改显示方式。若不指定宽度，则宽度默认为内容宽度。

每一个浮动的元素都是靠着父元素的边界或者紧挨着上一个浮动的元素。

浮动后元素会被覆盖，但是文本不会被覆盖。



语法：

```css
float:(right,left);
```



例子：

```css
*{
            margin: 0;
            padding:0;
        }

        .header{
            width: 100%;
            height: 50px;
            background-color: #aaa;
            text-align: center;
            line-height: 50px;
        }

        .menu{
            width: 100%;
            height: 50px;
        }

        .btns{
            padding: 10px 50px;
        }

        .btns>a:last-child{            
            float: right;
        }
```



## 三、定位

语法：

```
positon : 属性
```

### 1.相对定位（ relative ）：

开启相对定位之后就可使用top、right、bottom、left 四个属性来定位

特点：未脱离文档流，原来的位置依然占有。



### 2.绝对定位（absolute）：

开启绝对定位之后使用 top、right 、bottom、left四个属性来定位

- 绝对定位会使元素脱离文档流
- 会使元素变成块元素
- 绝对定位是相对于最先开启定位的祖先元素经行定位。如果都没有开启定位，则相对于 body 进行定位。

  ​

注：开启定位后记得要设置宽度！否则默认为0



### 3.固定定位（fixed）：

相对于当前页面来进行定位



### 4.层级设置（z-index）：

设计层级，层级越高，越上层显示



## 四、背景设置

### **1.设置背景颜色：**

```css
background-color:red;
```



### **2.设置背景图片：**

```css
background-image：url(img/1.jpg);
```



### **3.平铺：**

1. x方向平铺：

```css
background-repeat:repeat-x;
```

2. y方向平铺：

```css
background-repeat:repeat-y;
```

​	3.取消平铺：

```css
background-repeat:no-repeat;
```



### **4.设置背景图片大小：**

```css
background-size:120% 100%;
```



### **5.设置背景不跟随屏幕滚动：**

```css
background-attachment: fixed;
```



### 6.背景图片定位

```
background-position:;
```



## 五、进度条

### 1.边框圆角

```css
border-radius : 3px ;
```



### 2.设置渐变色：

```css
background-image:linear-gradient(to right , #f00 ,#00f);
```



## 六、弹性盒子

### 1.定义

### 2.步骤

- 声明当前元素为弹性盒子元素，任何标签都可设置为弹性盒子布局
- 设置宽高

3.轴

​			主轴：横方向

​			交叉轴：纵方向

### 弹性盒子的属性

#### 1.修改主轴方向：

盒子依次从左往右依次存放

```css
flex-direction: (row,row-reverse,col);
```



#### 2.设置内容是否换行：

如果内容多超过行距，则自动换行

```css
flex-wrap: wrap ;
```



#### 3.主轴排列方式：

内容靠左或靠右

```css
justify-content:(flex-end,  center,  flex-start,  自动平分：space-between,  自动平分，且两边留空：space-around );
```



#### 4.交叉轴对齐方式：

```css
align-items: center ;
```



# Day five

今天开始写项目！

### 矢量图标下载：

​	阿里巴巴----------------------------------iconfont.cn



### 软帝电影院网站：

[cinema.softeem.xin/indexView/indexList](http://cinema.softeem.xin/indexView/indexList)

# Day six

## 一、框架

事先把属性提前定义好。其他属性调用的时候直接更改类名就可以。



Layui框架--------后台常用的前端框架



## 二、数据库分页查询：

### 1.查询数据表中记录的数量：

```sql
select count(*) from 表名
```



### 2.分页查询

select * from limit  起始，个数

表示从第一个开始查三个。

```sql
select * from limit 0,3
```





# Day seven

## 一、VCM分层

V：视图层

C：控制层

M：模型层



### 视图层：

目录：web

- 用于显示效果（展示数据）
- 接受用户的请求
- 显示服务器处理的结果



### 控制层（controller）

- 封装数据
- 解析结果



### 模型层

- 处理业务逻辑



类：JAVA用来处理数据的最小单位

持久化层：只用来查询数据库。一般归于模型层，因为也属于处理业务的范围。

第三方工具：utils



## 二、JSON数据

- 具有一定格式的字符串
- 用于保存在网络上传输数据

{"id":201807674, "name" : "张三" , "array" : [ 1 , 3 , 5]  }

 [{"id" : 201807674 , " name " : " 李四 " , array : [1 3 5 ] }, { . . .  } , { . . .  } ] 



数据接口跨域：

项目在本地，



## 三、GET请求  POST请求



GET请求会把内容拼接在地址部分，有大小限制，而且只能传文本。

POST请求不会拼接在上面，没有大小限制，能穿多种类型。



# Day eight

## 一、java web 项目结构

```
	目录：

​		|  src

​		|  web

​			| web - inf

​					| web.xml ：核心配置文件
​					| lib ：放置jar包文件夹
​					| classes ：放置字节码(编译后)文件

​			| 静态资源

​						html , css , js , img , ...

​			|  jsp

```



### 1.web-inf 文件夹

​		WEB-INF目录是web应用的安全目录，作为安全目录就是服务器端可以直接访问，而无法被客户端访问，客户端想访问必须由服务器端进行配置。

　　目录里存放着配置web应用的文件web.xml；有存放web需要的jar包目录lib；有存放编译好.class文件的目录classes。将不想被客户端用户直接访问到的文件放置到这个文件夹下，可以有效保障文件安全。



### 2.web.xml 文件

​	该文件用来配置 Filter 、listener 、Servlet 等

​	当Tomcat启动时，会先读取Tomcat安装目录中conf文件夹下的web.xml作为全局配置，然后再读取项目中的web.xml更新全局配置。



**常用标签：**

```xml
<!-- schema头 -->
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<web-app version="4.0" 
    xmlns="http://xmlns.jcp.org/xml/ns/javaee"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/javaee
    http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd">
</web-app>

<!-- 文本说明 -->
<disciption>This is a simple xml.</disciption>

<!-- 配置应用上下文信息 -->
<context-param>
    <param-name>ContextParameter</para-name>
    <param-value>test</param-value>
    <description>It is a test parameter.</description>
</context-param>

<!-- 过滤器 filter -->
<filter>
    <filter-name>setCharacterEncoding</filter-name>
    <filter-class>com.myTest.setCharacterEncodingFilter</filter-class>
    <init-param>
        <param-name>encoding</param-name>
        <param-value>UTF-8</param-value>
    </init-param>
</filter>
<filter-mapping>
    <filter-name>setCharacterEncoding</filter-name>
    <url-pattern>/*</url-pattern>
</filter-mapping>

<!-- 监听器 listener -->
<listener> 
    <listerner-class>com.listener.SessionListener</listener-class> 
</listener>

<!-- Servlet -->
<servlet>
    <servlet-name>snoop</servlet-name>
    <servlet-class>SnoopServlet</servlet-class>
</servlet>
<servlet-mapping>
    <servlet-name>snoop</servlet-name>
    <url-pattern>/snoop</url-pattern>

<!-- 会话超时配置(min) -->
<session-config>
    <session-timeout>120</session-timeout>
</session-config>

<!-- 欢迎页 -->
<welcome-file-list>
    <welcome-file>index.jsp</welcome-file>
    <welcome-file>index.html</welcome-file>
    <welcome-file>index.htm</welcome-file>
</welcome-file-list>

<!-- 错误页(错误码\异常类型) -->
<error-page>
    <error-code>404</error-code>
    <location>/NotFound.jsp</location>
</error-page>
<error-page>
    <exception-type>java.lang.NullException</exception-type>
    <location>/Error.jsp</location>
</error-page>
```



## 二、Maven java 项目结构



```
|---pom.xml　　　　核心配置，项目根下
|---src
　　　---main　　　　　　
　　　   ---java　　　　java源码目录
　　      　　　---resources　  java配置文件目录
　　　---test
　　　　　　　　　---java　　　　测试源码目录
　　　　　　　　　---resources　  测试配置目录
```



## 三、Maven java web 项目结构

```
pom.xml                 核心配置
|---------src
　　　　　　　---main/java                java源码
　　　　　　		---resources            java配置
           		---webapp            myeclipse web项目中 WebRoot目录
   　　　　　　　　　　　　|-- WEB-INF
       　　　　　　　　　　	|-- web.xml
|---------test                    测试
|---------target                    输出目录
```



## 四、java web项目常见文件夹

- dao 包
- domain包
- service包
- utils包
- web包
- impl包



### 1.dao 

​	数据库相关操作 数据访问。

### 2.domain（entity）

​	实体类。

### 3.service

​	在此层做相应的业务逻辑处理。

### 4.utils

​	工具包。

### 5.web

​	一般存放 servlet 和 filter 。

### 6.impl

​	impl是implement的简写，换言之，放置的应该是接口的实现类。

​	一般三层开发中，service层和dao层都会有接口及其实现类，为了项目能更好的管理和开发，一般将接口放一个包，实现类放置在这个	包的子包中。



# Day nine&ten

## 最终项目：

详情见实习文件夹：

### index.jsp

```jsp
    <%@ page contentType="text/html;charset=UTF-8" language="java" %>
    <%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
    <html>
    <head>
        <meta charset="utf-8">
        <title>软帝影院</title>
        <link rel="stylesheet" type="text/css" href="../../css/reset.css"/>
        <link rel="stylesheet" href="../../css/header.css">
        <link rel="stylesheet" href="../../css/index.css">
        <style>
            .bottom {
                background-color: #262426;
                padding: 20px 0px 5px;
                color: #CCCCCC;
                font-size: 0.9em;
            }

            .bottom-row {
                display: flex;
                justify-content: center;
                margin-bottom: 15px;
            }

            .bottom-row > div {
                margin: 0px 12px;
            }

            .bottom-row span {
                margin: 0px 5px;
            }

            .red {
                color: #EF4238;
            }
        </style>
    </head>
    <body>
    <div class="header">
        <div class="header-logo">
            <a href="#"><img src="../../imgs/comm/logo.png" alt=""></a>
        </div>
        <div class="header-nav">
            <a href="#">首页</a>
            <a href="#" class="select-nav">电影</a>
            <a href="#">影院</a>
            <a href="#">演出</a>
            <a href="#">榜单</a>
            <a href="#">热点</a>
            <a href="">商城</a>
        </div>
        <div class="query-box">
            <div>
                <form action="#" method="post" class="query-form">
                    <input type="text" class="query-input" placeholder="找影视剧、影人、影院"/>
                    <input type="submit" class="query-btn" value="">
                </form>
            </div>
            <div>
                <img src="../../imgs/comm/user.png" alt="">
            </div>
        </div>
    </div>

    <div class="content">
        <div class="content-box">
            <div class="content-left-box">
                <div class="content-left-title">
                    <div style="color: #EF4238;">正在热映</div>
                    <div><a style="color: #EF4238;" href="">全部></a></div>
                </div>

                <div class="films">
                    <c:forEach items="${hotfilms}" var="hotfilm">
                        <div class="film-item">
                            <img src="${hotfilm.coverUrl}" alt="">
                            <div>
                                <span>${hotfilm.name}</span>
                                <span>${hotfilm.score}</span>
                            </div>
                            <div class="buy-btn">
                                <a href="#">购票</a>
                            </div>
                        </div>
                    </c:forEach>
                </div>

            </div>
            <div class="content-right-box">
                <div style="color: #EF4238;margin-bottom: 20px;">总票房</div>
                <div class="right-one">
                    <img src="../../imgs/coming_list_img/coming%20(23).jpg" alt="">
                    <div>
                        <span>远山的等待</span>
                        <span>7000万</span>
                    </div>
                </div>
                <div class="sort-list">
                    <div class="sort-item">
                        <div>
                            <div>1</div>
                            <div>你好，李焕英</div>
                        </div>
                        <div>400000万</div>
                    </div>
                    <div class="sort-item">
                        <div>
                            <div>2</div>
                            <div>你好，李焕英</div>
                        </div>
                        <div>260000万</div>
                    </div>
                    <div class="sort-item">
                        <div>
                            <div>3</div>
                            <div>你好，李焕英</div>
                        </div>
                        <div>140000万</div>
                    </div>
                    <div class="sort-item">
                        <div>
                            <div>4</div>
                            <div>你好，李焕英</div>
                        </div>
                        <div>8670万</div>
                    </div>
                    <div class="sort-item">
                        <div>
                            <div>5</div>
                            <div>你好，李焕英</div>
                        </div>
                        <div>4560万</div>
                    </div>
                    <div class="sort-item">
                        <div>
                            <div>6</div>
                            <div>你好，李焕英</div>
                        </div>
                        <div>2134万</div>
                    </div>
                    <div class="sort-item">
                        <div>
                            <div>7</div>
                            <div>你好，李焕英</div>
                        </div>
                        <div>1000万</div>
                    </div>
                    <div class="sort-item">
                        <div>
                            <div>8</div>
                            <div>你好，李焕英</div>
                        </div>
                        <div>888万</div>
                    </div>
                </div>
            </div>
        </div>
        <div class="content-box">
            <div class="content-left-box">
                <div class="content-left-title">
                    <div style="color: #2D98F3;">即将上映</div>
                    <div><a style="color: #2D98F3;" href="">全部></a></div>
                </div>
                <div class="films">
                    <c:forEach items="${comingFilms}" var="comingFilm">
                        <div class="film-item">
                            <img src="${comingFilm.coverUrl}" alt="">
                            <div>
                                <span>${comingFilm.name}</span>
                                <span>${comingFilm.score}</span>
                            </div>
                            <div class="photo-btns">
                                <div>${comingFilm.lookForwardNumber}人想看</div>
                                <div><a href="#">预告片</a></div>
                                <div><a href="#">预售</a></div>
                            </div>
                        </div>
                    </c:forEach>
                </div>
            </div>
            <div class="content-right-box">
                <div style="color: #FFB400;margin-bottom: 20px;">最受期待</div>
                <div class="right-one">
                    <img src="../../imgs/coming_list_img/coming%20(23).jpg" alt="">
                    <div>
                        <span>远山的等待</span>
                        <span>7000万</span>
                    </div>
                </div>
                <div class="sort-list">
                    <div class="sort-item">
                        <div>
                            <div>1</div>
                            <div>你好，李焕英</div>
                        </div>
                        <div>400000万</div>
                    </div>
                    <div class="sort-item">
                        <div>
                            <div>1</div>
                            <div>你好，李焕英</div>
                        </div>
                        <div>400000万</div>
                    </div>
                    <div class="sort-item">
                        <div>
                            <div>1</div>
                            <div>你好，李焕英</div>
                        </div>
                        <div>400000万</div>
                    </div>
                    <div class="sort-item">
                        <div>
                            <div>1</div>
                            <div>你好，李焕英</div>
                        </div>
                        <div>400000万</div>
                    </div>
                    <div class="sort-item">
                        <div>
                            <div>1</div>
                            <div>你好，李焕英</div>
                        </div>
                        <div>400000万</div>
                    </div>
                    <div class="sort-item">
                        <div>
                            <div>1</div>
                            <div>你好，李焕英</div>
                        </div>
                        <div>400000万</div>
                    </div>
                    <div class="sort-item">
                        <div>
                            <div>1</div>
                            <div>你好，李焕英</div>
                        </div>
                        <div>400000万</div>
                    </div>
                    <div class="sort-item">
                        <div>
                            <div>1</div>
                            <div>你好，李焕英</div>
                        </div>
                        <div>300万人想看</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    </div>

    <div class="bottom">
        <div class="bottom-row">
            <div>
                关于软帝:
                <a href="" class="red">关于我们</a>
                <span>|</span>
                <a href="" class="red">投资者关系</a>
            </div>
            <div>
                友情链接：
                <a href="" class="red">软帝集团</a>
                <span>|</span>
                <a href="" class="red">猫眼电影</a>
                <span>|</span>
                <a href="" class="red">欢喜首映</a>
                <span>|</span>
                <a href="" class="red">爱电影</a>
            </div>
        </div>
        <div class="bottom-row" style="margin-bottom: 6px;">
            <div>商务合作邮箱：v@maoyan.com</div>
            <div>客服电话：10105335</div>
            <div>违法和不良信息举报电话：4006018900</div>
        </div>
        <div class="bottom-row" style="margin-bottom: 6px;">
            <div>用户投诉邮箱：tousujubao@meituan.com</div>
            <div>舞弊线索举报邮箱：wubijubao@maoyan.com</div>
        </div>
        <div class="bottom-row">
            <div>
                <a href="#">中华人民共和国增值电信业务经营许可证 京B2-20190350</a>
                <span>|</span>
                <a href="#">营业性演出许可证 京演（机构）（2019）4094号</a>
            </div>
        </div>
        <div class="bottom-row">
            <div>
                <a href="#">广播电视节目制作经营许可证 （京）字第08478号</a>
                <span>|</span>
                <a href="#">网络文化经营许可证 京网文（2019）3837-369号</a>
            </div>
        </div>
        <div class="bottom-row">
            <div>
                <a href="#">软帝用户服务协议</a>
                <span>|</span>
                <a href="#">软帝平台交易规则总则</a>
                <span>|</span>
                <a href="#">隐私政策</a>
            </div>
        </div>
        <div class="bottom-row">
            <div>
                <a href="#">京公网安备 11010102003232号</a>
                <span>|</span>
                <a href="#">京ICP备16022489号-1</a>
            </div>
        </div>
        <div class="bottom-row">
            <div>湖北省软帝职业培训技术学院</div>
        </div>
        <div class="bottom-row">
            <div>©2021 软帝影城 softeem.com</div>
        </div>
        <div class="bottom-row" style="margin-top: 30px;">
            <div>
                <img src="../../imgs/comm/e54374ccf134d1f7b2c5b075a74fca525326.png" alt="">
            </div>
            <div>
                <img src="../../imgs/comm/805f605d5cf1b1a02a4e3a5e29df003b8376.png" alt="">
            </div>
            <div>
                <img src="../../imgs/comm/3cd2a9b7dc179531d20d27a5fd686e783787.png" alt="">
            </div>
        </div>
    </div>
    </body>
    </html>
```

### first.html

```html
<%@ page contentType="text/html;charset=UTF-8" language="java" %>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
<html>
<head>
    <meta charset="utf-8">
    <title>软帝影院</title>
    <link rel="stylesheet" type="text/css" href="../../css/reset.css"/>
    <link rel="stylesheet" href="../../css/header.css">
    <link rel="stylesheet" href="../../css/index.css">
    <style>
        .bottom {
            background-color: #262426;
            padding: 20px 0px 5px;
            color: #CCCCCC;
            font-size: 0.9em;
        }

        .bottom-row {
            display: flex;
            justify-content: center;
            margin-bottom: 15px;
        }

        .bottom-row > div {
            margin: 0px 12px;
        }

        .bottom-row span {
            margin: 0px 5px;
        }

        .red {
            color: #EF4238;
        }
    </style>
</head>
<body>
<div class="header">
    <div class="header-logo">
        <a href="#"><img src="../../imgs/comm/logo.png" alt=""></a>
    </div>
    <div class="header-nav">
        <a href="#">首页</a>
        <a href="#" class="select-nav">电影</a>
        <a href="#">影院</a>
        <a href="#">演出</a>
        <a href="#">榜单</a>
        <a href="#">热点</a>
        <a href="">商城</a>
    </div>
    <div class="query-box">
        <div>
            <form action="#" method="post" class="query-form">
                <input type="text" class="query-input" placeholder="找影视剧、影人、影院"/>
                <input type="submit" class="query-btn" value="">
            </form>
        </div>
        <div>
            <img src="../../imgs/comm/user.png" alt="">
        </div>
    </div>
</div>

<div class="content">
    <div class="content-box">
        <div class="content-left-box">
            <div class="content-left-title">
                <div style="color: #EF4238;">正在热映</div>
                <div><a style="color: #EF4238;" href="">全部></a></div>
            </div>

            <div class="films">
                <c:forEach items="${hotfilms}" var="hotfilm">
                    <div class="film-item">
                        <img src="${hotfilm.coverUrl}" alt="">
                        <div>
                            <span>${hotfilm.name}</span>
                            <span>${hotfilm.score}</span>
                        </div>
                        <div class="buy-btn">
                            <a href="#">购票</a>
                        </div>
                    </div>
                </c:forEach>
            </div>

        </div>
        <div class="content-right-box">
            <div style="color: #EF4238;margin-bottom: 20px;">总票房</div>
            <div class="right-one">
                <img src="../../imgs/coming_list_img/coming%20(23).jpg" alt="">
                <div>
                    <span>远山的等待</span>
                    <span>7000万</span>
                </div>
            </div>
            <div class="sort-list">
                <div class="sort-item">
                    <div>
                        <div>1</div>
                        <div>你好，李焕英</div>
                    </div>
                    <div>400000万</div>
                </div>
                <div class="sort-item">
                    <div>
                        <div>2</div>
                        <div>你好，李焕英</div>
                    </div>
                    <div>260000万</div>
                </div>
                <div class="sort-item">
                    <div>
                        <div>3</div>
                        <div>你好，李焕英</div>
                    </div>
                    <div>140000万</div>
                </div>
                <div class="sort-item">
                    <div>
                        <div>4</div>
                        <div>你好，李焕英</div>
                    </div>
                    <div>8670万</div>
                </div>
                <div class="sort-item">
                    <div>
                        <div>5</div>
                        <div>你好，李焕英</div>
                    </div>
                    <div>4560万</div>
                </div>
                <div class="sort-item">
                    <div>
                        <div>6</div>
                        <div>你好，李焕英</div>
                    </div>
                    <div>2134万</div>
                </div>
                <div class="sort-item">
                    <div>
                        <div>7</div>
                        <div>你好，李焕英</div>
                    </div>
                    <div>1000万</div>
                </div>
                <div class="sort-item">
                    <div>
                        <div>8</div>
                        <div>你好，李焕英</div>
                    </div>
                    <div>888万</div>
                </div>
            </div>
        </div>
    </div>
    <div class="content-box">
        <div class="content-left-box">
            <div class="content-left-title">
                <div style="color: #2D98F3;">即将上映</div>
                <div><a style="color: #2D98F3;" href="">全部></a></div>
            </div>
            <div class="films">
                <c:forEach items="${comingFilms}" var="comingFilm">
                    <div class="film-item">
                        <img src="${comingFilm.coverUrl}" alt="">
                        <div>
                            <span>${comingFilm.name}</span>
                            <span>${comingFilm.score}</span>
                        </div>
                        <div class="photo-btns">
                            <div>${comingFilm.lookForwardNumber}人想看</div>
                            <div><a href="#">预告片</a></div>
                            <div><a href="#">预售</a></div>
                        </div>
                    </div>
                </c:forEach>
            </div>
        </div>
        <div class="content-right-box">
            <div style="color: #FFB400;margin-bottom: 20px;">最受期待</div>
            <div class="right-one">
                <img src="../../imgs/coming_list_img/coming%20(23).jpg" alt="">
                <div>
                    <span>远山的等待</span>
                    <span>7000万</span>
                </div>
            </div>
            <div class="sort-list">
                <div class="sort-item">
                    <div>
                        <div>1</div>
                        <div>你好，李焕英</div>
                    </div>
                    <div>400000万</div>
                </div>
                <div class="sort-item">
                    <div>
                        <div>1</div>
                        <div>你好，李焕英</div>
                    </div>
                    <div>400000万</div>
                </div>
                <div class="sort-item">
                    <div>
                        <div>1</div>
                        <div>你好，李焕英</div>
                    </div>
                    <div>400000万</div>
                </div>
                <div class="sort-item">
                    <div>
                        <div>1</div>
                        <div>你好，李焕英</div>
                    </div>
                    <div>400000万</div>
                </div>
                <div class="sort-item">
                    <div>
                        <div>1</div>
                        <div>你好，李焕英</div>
                    </div>
                    <div>400000万</div>
                </div>
                <div class="sort-item">
                    <div>
                        <div>1</div>
                        <div>你好，李焕英</div>
                    </div>
                    <div>400000万</div>
                </div>
                <div class="sort-item">
                    <div>
                        <div>1</div>
                        <div>你好，李焕英</div>
                    </div>
                    <div>400000万</div>
                </div>
                <div class="sort-item">
                    <div>
                        <div>1</div>
                        <div>你好，李焕英</div>
                    </div>
                    <div>300万人想看</div>
                </div>
            </div>
        </div>
    </div>
</div>

</div>

<div class="bottom">
    <div class="bottom-row">
        <div>
            关于软帝:
            <a href="" class="red">关于我们</a>
            <span>|</span>
            <a href="" class="red">投资者关系</a>
        </div>
        <div>
            友情链接：
            <a href="" class="red">软帝集团</a>
            <span>|</span>
            <a href="" class="red">猫眼电影</a>
            <span>|</span>
            <a href="" class="red">欢喜首映</a>
            <span>|</span>
            <a href="" class="red">爱电影</a>
        </div>
    </div>
    <div class="bottom-row" style="margin-bottom: 6px;">
        <div>商务合作邮箱：v@maoyan.com</div>
        <div>客服电话：10105335</div>
        <div>违法和不良信息举报电话：4006018900</div>
    </div>
    <div class="bottom-row" style="margin-bottom: 6px;">
        <div>用户投诉邮箱：tousujubao@meituan.com</div>
        <div>舞弊线索举报邮箱：wubijubao@maoyan.com</div>
    </div>
    <div class="bottom-row">
        <div>
            <a href="#">中华人民共和国增值电信业务经营许可证 京B2-20190350</a>
            <span>|</span>
            <a href="#">营业性演出许可证 京演（机构）（2019）4094号</a>
        </div>
    </div>
    <div class="bottom-row">
        <div>
            <a href="#">广播电视节目制作经营许可证 （京）字第08478号</a>
            <span>|</span>
            <a href="#">网络文化经营许可证 京网文（2019）3837-369号</a>
        </div>
    </div>
    <div class="bottom-row">
        <div>
            <a href="#">软帝用户服务协议</a>
            <span>|</span>
            <a href="#">软帝平台交易规则总则</a>
            <span>|</span>
            <a href="#">隐私政策</a>
        </div>
    </div>
    <div class="bottom-row">
        <div>
            <a href="#">京公网安备 11010102003232号</a>
            <span>|</span>
            <a href="#">京ICP备16022489号-1</a>
        </div>
    </div>
    <div class="bottom-row">
        <div>湖北省软帝职业培训技术学院</div>
    </div>
    <div class="bottom-row">
        <div>©2021 软帝影城 softeem.com</div>
    </div>
    <div class="bottom-row" style="margin-top: 30px;">
        <div>
            <img src="../../imgs/comm/e54374ccf134d1f7b2c5b075a74fca525326.png" alt="">
        </div>
        <div>
            <img src="../../imgs/comm/805f605d5cf1b1a02a4e3a5e29df003b8376.png" alt="">
        </div>
        <div>
            <img src="../../imgs/comm/3cd2a9b7dc179531d20d27a5fd686e783787.png" alt="">
        </div>
    </div>
</div>
</body>
</html>
```

### admin.html

```html
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <title>软帝影院后台管理系统</title>
  <link rel="stylesheet" href="./static/layui/css/layui.css">
  <style>
     .layui-body {
        height: 90%;
     }
     
     .main-content {
        width: 100%;
        height: 100%;
        border: none;
     }
  </style>
</head>
<body>
<div class="layui-layout layui-layout-admin">
  <div class="layui-header">
    <div class="layui-logo layui-hide-xs layui-bg-black">软帝影院后台管理系统</div>
    <!-- 头部区域（可配合layui 已有的水平导航） -->
    <ul class="layui-nav layui-layout-left">
      <!-- 移动端显示 -->
      <li class="layui-nav-item layui-show-xs-inline-block layui-hide-sm" lay-header-event="menuLeft">
        <i class="layui-icon layui-icon-spread-left"></i>
      </li>
    </ul>
    <ul class="layui-nav layui-layout-right">
      <li class="layui-nav-item layui-hide layui-show-md-inline-block">
        <a href="javascript:;">
          <img src="//tva1.sinaimg.cn/crop.0.0.118.118.180/5db11ff4gw1e77d3nqrv8j203b03cweg.jpg" class="layui-nav-img">
          放学别走
        </a>
        <dl class="layui-nav-child">
          <dd><a href="">设置</a></dd>
          <dd><a href="">注销</a></dd>
        </dl>
      </li>
    </ul>
  </div>
  
  <div class="layui-side layui-bg-black">
    <div class="layui-side-scroll">
      <!-- 左侧导航区域（可配合layui已有的垂直导航） -->
      <ul class="layui-nav layui-nav-tree" lay-filter="test">
        <li class="layui-nav-item layui-nav-itemed">
          <a class="" href="javascript:;">影片管理</a>
          <dl class="layui-nav-child">
            <dd><a href="./filmList.html" target="main-content">所有影片</a></dd>
            <dd><a href="./page2.html" target="main-content">正在热映</a></dd>
            <dd><a href="./page3.html" target="main-content">即将上映</a></dd>
          </dl>
        </li>
        <li class="layui-nav-item">
          <a href="javascript:;">影院管理</a>
          <dl class="layui-nav-child">
            <dd><a href="javascript:;">list 1</a></dd>
            <dd><a href="javascript:;">list 2</a></dd>
            <dd><a href="">超链接</a></dd>
          </dl>
        </li>
      <li class="layui-nav-item">
        <a href="javascript:;">演出管理</a>
        <dl class="layui-nav-child">
          <dd><a href="javascript:;">list 1</a></dd>
          <dd><a href="javascript:;">list 2</a></dd>
          <dd><a href="">超链接</a></dd>
        </dl>
      </li>
      <li class="layui-nav-item"><a href="javascript:;">热点管理</a></li>
      </ul>
    </div>
  </div>
  
  <div class="layui-body">
    <!-- 内容主体区域 -->
    <iframe class="main-content" name="main-content" src="./filmList.html"></iframe>
  </div>
  
  <div class="layui-footer">
    <!-- 底部固定区域 -->
    底部固定区域
  </div>
</div>
<script src="./static/layui/layui.js"></script>
<script>
layui.use(['element', 'layer', 'util', 'table'], function(){
  let element = layui.element
  ,layer = layui.layer
  ,util = layui.util
  ,table = layui.table
  ,$ = layui.$;
});
</script>
</body>
</html>
```

### dao>filmDao.java

```java
package com.softeem.dao;

import com.softeem.entity.Film;
import com.softeem.utils.DatabaseUtil;

import java.util.List;

public class FilmDao {
    public boolean insert(Film film) {
        String sql = "INSERT INTO film (name, cover_url, look_forward_number, score, state, district, time_len, first_run_time, box_office_number, create_time, update_time) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)";
        return DatabaseUtil.executeUpdate(sql, film.getName(), film.getCoverUrl(), film.getLookForwardNumber(), film.getScore(), film.getState(), film.getDistrict(), film.getTimeLen(), film.getFirstRunTime(), film.getBoxOfficeNumber(), film.getCreateTime(), film.getUpdateTime());
    }

    public boolean deleteById(int id) {
        String sql = "DELETE FROM film WHERE id = ?";
        return DatabaseUtil.executeUpdate(sql, id);
    }

    public boolean updateById(Film film) {
        String sql = "UPDATE film SET name = ?, cover_url = ?,state = ?, district = ? WHERE id = ?";
        return DatabaseUtil.executeUpdate(sql, film.getName(), film.getCoverUrl(), film.getState(), film.getDistrict(), film.getId());
    }

    public Film selectById(int id) {
        String sql = "SELECT * FROM film WHERE id = ?";
        return DatabaseUtil.executeQueryOne(sql, Film.class, id);
    }

    public List<Film> selectByLimit(int index, int len) {
        String sql = "SELECT * FROM film ORDER BY id DESC limit ?, ?";
        return DatabaseUtil.executeQuery(sql, Film.class, index, len);
    }

    public Long getCount() {
        String sql = "SELECT COUNT(*) FROM film";
        return DatabaseUtil.getCount(sql);
    }

    public List<Film> selectByStateAndLimit(int state, int index, int len) {
        String sql = "SELECT * FROM film WHERE state = ? ORDER BY id DESC limit ?, ?";
        return DatabaseUtil.executeQuery(sql, Film.class, state, index, len);
    }
}
```

### entity>film.java

```java
package com.softeem.entity;

import java.util.Date;

public class Film {
    private Integer id;

    private String name;

    private String coverUrl;

    private Integer lookForwardNumber;

    private Double score;

    private Integer state;

    private String district;

    private Integer timeLen;

    private Date firstRunTime;

    private Integer boxOfficeNumber;

    private Date createTime;

    private Date updateTime;

    private String synopsis;

    public Film() {
    }

    public Integer getId() {
        return id;
    }

    public Film setId(Integer id) {
        this.id = id;
        return this;
    }

    public String getName() {
        return name;
    }

    public Film setName(String name) {
        this.name = name == null ? null : name.trim();
        return this;
    }

    public String getCoverUrl() {
        return coverUrl;
    }

    public Film setCoverUrl(String coverUrl) {
        this.coverUrl = coverUrl == null ? null : coverUrl.trim();
        return this;
    }

    public Integer getLookForwardNumber() {
        return lookForwardNumber;
    }

    public Film setLookForwardNumber(Integer lookForwardNumber) {
        this.lookForwardNumber = lookForwardNumber;
        return this;
    }

    public Double getScore() {
        return score;
    }

    public Film setScore(Double score) {
        this.score = score;
        return this;
    }

    public Integer getState() {
        return state;
    }

    public Film setState(Integer state) {
        this.state = state;
        return this;
    }

    public String getDistrict() {
        return district;
    }

    public Film setDistrict(String district) {
        this.district = district == null ? null : district.trim();
        return this;
    }

    public Integer getTimeLen() {
        return timeLen;
    }

    public Film setTimeLen(Integer timeLen) {
        this.timeLen = timeLen;
        return this;
    }

    public Date getFirstRunTime() {
        return firstRunTime;
    }

    public Film setFirstRunTime(Date firstRunTime) {
        this.firstRunTime = firstRunTime;
        return this;
    }

    public Integer getBoxOfficeNumber() {
        return boxOfficeNumber;
    }

    public Film setBoxOfficeNumber(Integer boxOfficeNumber) {
        this.boxOfficeNumber = boxOfficeNumber;
        return this;
    }

    public Date getCreateTime() {
        return createTime;
    }

    public Film setCreateTime(Date createTime) {
        this.createTime = createTime;
        return this;
    }

    public Date getUpdateTime() {
        return updateTime;
    }

    public Film setUpdateTime(Date updateTime) {
        this.updateTime = updateTime;
        return this;
    }

    public String getSynopsis() {
        return synopsis;
    }

    public Film setSynopsis(String synopsis) {
        this.synopsis = synopsis == null ? null : synopsis.trim();
        return this;
    }

    @Override
    public String toString() {
        return "Film{" +
                "id=" + id +
                ", name='" + name + '\'' +
                ", coverUrl='" + coverUrl + '\'' +
                ", lookForwardNumber=" + lookForwardNumber +
                ", score=" + score +
                ", state=" + state +
                ", district='" + district + '\'' +
                ", timeLen=" + timeLen +
                ", firstRunTime=" + firstRunTime +
                ", boxOfficeNumber=" + boxOfficeNumber +
                ", createTime=" + createTime +
                ", updateTime=" + updateTime +
                ", synopsis='" + synopsis + '\'' +
                '}';
    }
}
```

### model

```java
package com.softeem.model;

import java.util.Map;

public class LayuiUploadResult {
    private Integer code;
    private String msg;
    private Map<String, Object> data;

    public LayuiUploadResult() {
    }

    public Integer getCode() {
        return code;
    }

    public void setCode(Integer code) {
        this.code = code;
    }

    public String getMsg() {
        return msg;
    }

    public void setMsg(String msg) {
        this.msg = msg;
    }

    public Map<String, Object> getData() {
        return data;
    }

    public void setData(Map<String, Object> data) {
        this.data = data;
    }
}
```

```java
package com.softeem.model;

import java.util.List;

/*
 * Java中用于保存数据的类必须是JavaBean对象
 *  1. 私有化所有属性（强烈建议使用包装类）
 *  2. 必须包含无参构造方法
 *  3. 提供公共的get/set方法
 *  4. 实现序列号接口（一般此对象需要保存到本地，则添加）
 * */
public class LayuiTableResult<T> {
    private Integer code;
    private String msg;
    private Long count;
    private List<T> data;

    public LayuiTableResult() {
    }

    public Integer getCode() {
        return code;
    }

    public void setCode(Integer code) {
        this.code = code;
    }

    public String getMsg() {
        return msg;
    }

    public void setMsg(String msg) {
        this.msg = msg;
    }

    public Long getCount() {
        return count;
    }

    public void setCount(Long count) {
        this.count = count;
    }

    public List<T> getData() {
        return data;
    }

    public void setData(List<T> data) {
        this.data = data;
    }
}
```

### interface--->fileservice

```java
package com.softeem.service;

import com.softeem.entity.Film;
import com.softeem.model.LayuiTableResult;

import java.util.List;

public interface FilmService {
    public LayuiTableResult<Film> getFilmPaging(int page, int limit);

    public boolean addFilm(Film film);

    public boolean deleteFilm(int id);

    public boolean updateFilm(Film film);

    public List<Film> getFilmByStateAndLimit(int state, int index, int len);
}
```

### servlet>addservlet

```java
package com.softeem.servlet;

import com.softeem.entity.Film;
import com.softeem.service.FilmService;
import com.softeem.service.impl.FilmServiceImpl;
import com.softeem.utils.JsonUtils;

import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import java.io.IOException;
import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.Date;
import java.util.HashMap;
import java.util.Map;

@WebServlet("/addFilm")
public class AddFilmServlet extends HttpServlet {
    private FilmService filmService;

    public AddFilmServlet() {
        filmService = new FilmServiceImpl();
    }

    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        doPost(req, resp);
    }

    @Override
    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        // 修改Tomcat服务器的编码
        req.setCharacterEncoding("utf-8");
        resp.setCharacterEncoding("utf-8");
        // 高速浏览器以什么编码进行解析
        resp.setContentType("text/html;charset=utf-8");
        // 得到前端上传的数据
        String name = req.getParameter("name");
        String coverUrl = req.getParameter("coverUrl");
        String district = req.getParameter("district");
        String timeLen = req.getParameter("timeLen");
        String firstRunTime = req.getParameter("firstRunTime");
        String synopsis = req.getParameter("synopsis");
        String state = req.getParameter("state");

        firstRunTime = firstRunTime.replaceAll("T", " ");

        SimpleDateFormat sdf = new SimpleDateFormat("yyyy-MM-dd HH:mm");

        // 封装数据
        Film film = new Film();
        film.setName(name);
        film.setScore(0d);
        film.setLookForwardNumber(0);
        film.setSynopsis(synopsis);
        film.setTimeLen(Integer.parseInt(timeLen));
        film.setDistrict(district);
        film.setCoverUrl(coverUrl);
        try {
            film.setFirstRunTime(sdf.parse(firstRunTime));
        } catch (ParseException e) {
            e.printStackTrace();
        }
        film.setState(Integer.parseInt(state));
        film.setCreateTime(new Date());
        film.setUpdateTime(new Date());
        //{"code": 0}
        Map<String, Object> result = new HashMap<>();
        if (filmService.addFilm(film)) {
            result.put("code", 0);
        } else {
            result.put("code", 1);
        }

        resp.getWriter().println(JsonUtils.objectToJson(result));
    }
}
```

### servlet>updateservlet



### servlet>deleteservlet

```java
package com.softeem.servlet;

import com.softeem.service.FilmService;
import com.softeem.service.impl.FilmServiceImpl;
import com.softeem.utils.JsonUtils;

import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import java.io.IOException;
import java.util.HashMap;
import java.util.Map;

@WebServlet("/deleteFilm")
public class DeleteFilmServlet extends HttpServlet {
    private FilmService filmService;

    public DeleteFilmServlet() {
        filmService = new FilmServiceImpl();
    }

    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        doPost(req, resp);
    }

    @Override
    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        String id = req.getParameter("id");

        Map<String, Object> result = new HashMap<>();

        if (filmService.deleteFilm(Integer.parseInt(id))) {
            result.put("code", 0);
        } else {
            result.put("code", 1);
        }

        resp.getWriter().println(JsonUtils.objectToJson(result));
    }
}
```

### servlet>selectservlet

```java
package com.softeem.servlet;

import com.softeem.entity.Film;
import com.softeem.service.FilmService;
import com.softeem.service.impl.FilmServiceImpl;
import com.softeem.utils.JsonUtils;

import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import java.io.IOException;
import java.util.HashMap;
import java.util.Map;

@WebServlet("/updateFilm")
public class UpdateServlet extends HttpServlet {
    private FilmService filmService;

    public UpdateServlet() {
        filmService = new FilmServiceImpl();
    }

    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        doPost(req, resp);
    }

    @Override
    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        // 修改Tomcat服务器的编码
        req.setCharacterEncoding("utf-8");
        resp.setCharacterEncoding("utf-8");
        // 高速浏览器以什么编码进行解析
        resp.setContentType("text/html;charset=utf-8");

        String name = req.getParameter("name");
        String coverUrl = req.getParameter("coverUrl");
        String district = req.getParameter("district");
//        String timeLen = req.getParameter("timeLen");
//        String firstRunTime = req.getParameter("firstRunTime");
//        String synopsis = req.getParameter("synopsis");
        String state = req.getParameter("state");
        String id = req.getParameter("id");

//        SimpleDateFormat sdf = new SimpleDateFormat("yyyy-MM-dd HH:mm");

        //封装数据
        Film film = new Film();

        film.setName(name);
//        film.setScore(0d);
//        film.setLookForwardNumber(0);
//        film.setSynopsis(synopsis);
//        film.setTimeLen(Integer.parseInt(timeLen));
        film.setDistrict(district);
        film.setCoverUrl(coverUrl);
        film.setId(Integer.parseInt(id));
        film.setState(Integer.valueOf(state));

        System.out.println(film);
//        try {
//            film.setFirstRunTime(sdf.parse(firstRunTime));
//        } catch (ParseException e) {
//            e.printStackTrace();
//        }

//        film.setState(Integer.parseInt(state));
//        film.setCreateTime(new Date());
//        film.setUpdateTime(new Date());

        Map<String, Object> result = new HashMap<>();
        if (filmService.updateFilm(film)) {
            result.put("code", 0);
        } else {
            result.put("code", 1);
        }

        resp.getWriter().println(JsonUtils.objectToJson(result));
    }
}
```

### servlet>indexpageservlet

```java
package com.softeem.servlet;

import com.softeem.entity.Film;
import com.softeem.service.FilmService;
import com.softeem.service.impl.FilmServiceImpl;

import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import java.io.IOException;
import java.util.List;

@WebServlet("/index2")
public class IndexPage2Servlet extends HttpServlet {
    private FilmService filmService;

    public IndexPage2Servlet() {
        filmService = new FilmServiceImpl();
    }

    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        doPost(req, resp);
    }

    @Override
    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        // 修改Tomcat服务器的编码
        req.setCharacterEncoding("utf-8");
        resp.setCharacterEncoding("utf-8");
        // 高速浏览器以什么编码进行解析
        resp.setContentType("text/html;charset=utf-8");
        // 查询即将上映的电影
        List<Film> hotfilms = filmService.getFilmByStateAndLimit(1, 0, 8);
        // 把数据带到前端
        req.setAttribute("hotfilms", hotfilms);
        req.getRequestDispatcher("/WEB-INF/page/index.jsp").forward(req, resp);
    }
}
```

```java
package com.softeem.servlet;

import com.softeem.entity.Film;
import com.softeem.service.FilmService;
import com.softeem.service.impl.FilmServiceImpl;

import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import java.io.IOException;
import java.util.List;

@WebServlet("/index.html")
public class IndexPageServlet extends HttpServlet {

    private FilmService filmService;

    public IndexPageServlet() {
        filmService = new FilmServiceImpl();
    }

    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        doPost(req, resp);
    }

    @Override
    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        // 修改Tomcat服务器的编码
        req.setCharacterEncoding("utf-8");
        resp.setCharacterEncoding("utf-8");
        // 高速浏览器以什么编码进行解析
        resp.setContentType("text/html;charset=utf-8");
        // 查询前台需要的数据
        List<Film> comingFilms = filmService.getFilmByStateAndLimit(0, 0, 8);
        // 把数据带到前端
        req.setAttribute("comingFilms", comingFilms);
        req.getRequestDispatcher("/index2").forward(req, resp);
    }
}
```

### jdbc

```java
package com.softeem.utils;

import java.lang.reflect.InvocationTargetException;
import java.lang.reflect.Method;
import java.sql.*;
import java.util.ArrayList;
import java.util.List;

/*
 * 1.导入jar:mysql-connector-java-5.1.7-bin.jar
 * 2.加载驱动：Class.forName("com.jdbc.mysql.Driver");
 * 3.连接数据库：DriverManager.getConnection(url, username, password);
 * */
public class DatabaseUtil {
    private static Connection connection;
    private static String username = "root";
    private static String password = "root";
    private static String url = "jdbc:mysql://localhost:3306/softeem_cinema?useUnicode=true&characterEncoding=utf-8&useSSL=false&serverTimezone=UTC";

    static {
        try {
            // 加载驱动
            Class.forName("com.mysql.jdbc.Driver");
        } catch (ClassNotFoundException e) {
            System.out.println("驱动加载失败！");
            e.printStackTrace();
        }
    }

    private DatabaseUtil() {
    }

    public synchronized static Connection getConnection() {
        if (connection == null) {
            try {
                connection = DriverManager.getConnection(url, username, password);
            } catch (SQLException e) {
                System.out.println("数据库连接失败！");
                e.printStackTrace();
            }
        }
        return connection;
    }

    public static void close(PreparedStatement ps, ResultSet rs) throws SQLException {
        if (ps != null) {
            ps.close();
        }
        if (rs != null) {
            rs.close();
        }
    }

    // 封装通用增删改
    public static boolean executeUpdate(String sql, Object... params) {
        PreparedStatement ps = null;
        try {
            // 得到用于发送SQL语句的句柄
            ps = DatabaseUtil.getConnection().prepareStatement(sql);
            // 设置参数
            for (int i = 0; i < params.length; i++) {
                ps.setObject(i + 1, params[i]);
            }
            // 发送SQL语句
            return ps.executeUpdate() > 0;
        } catch (SQLException e) {
            e.printStackTrace();
        } finally {
            try {
                DatabaseUtil.close(ps, null);
            } catch (SQLException e) {
                e.printStackTrace();
            }
        }
        return false;
    }

    // 封装通用增删改
    public static int executeInsert(String sql, Object... params) {
        PreparedStatement ps = null;
        ResultSet rs = null;
        try {
            if (!sql.trim().toLowerCase().startsWith("insert")) {
                throw new RuntimeException("This method only supports insert statements。");
            }
            // 得到用于发送SQL语句的句柄
            ps = DatabaseUtil.getConnection().prepareStatement(sql, Statement.RETURN_GENERATED_KEYS);
            // 设置参数
            for (int i = 0; i < params.length; i++) {
                ps.setObject(i + 1, params[i]);
            }
            // 发送SQL语句
            if (ps.executeUpdate() > 0) {
                rs = ps.getGeneratedKeys();
                if (rs.next()) {
                    return rs.getInt(Statement.RETURN_GENERATED_KEYS);
                } else {
                    return 0;
                }
            }
        } catch (SQLException e) {
            e.printStackTrace();
        } finally {
            try {
                DatabaseUtil.close(ps, rs);
            } catch (SQLException e) {
                e.printStackTrace();
            }
        }

        return 0;
    }

    public static <T> List<T> executeQuery(String sql, Class<T> clazz, Object... params) {
        List<T> result = new ArrayList<>();
        PreparedStatement ps = null;
        ResultSet rs = null;
        try {
            // 得到数据库句柄
            ps = DatabaseUtil.getConnection().prepareStatement(sql);
            // 设置参数
            for (int i = 0; i < params.length; i++) {
                ps.setObject(i + 1, params[i]);
            }
            // 发送SQL语句,得到结果
            rs = ps.executeQuery();
            // 得到元数据
            ResultSetMetaData metaData = rs.getMetaData();
            // 解析封装结果
            while (rs.next()) {
                T data = clazz.getDeclaredConstructor().newInstance();

                for (int i = 1; i <= metaData.getColumnCount(); i++) {
                    String columnName = metaData.getColumnName(i);
                    String[] strs = columnName.split("_");
                    String fieldName = "";
                    String methodName = "set";
                    for (int j = 0; j < strs.length; j++) {
                        if (j == 0) {
                            fieldName += strs[j];
                        } else {
                            fieldName = fieldName + strs[j].substring(0, 1).toUpperCase() + strs[j].substring(1);
                        }
                        methodName = methodName + strs[j].substring(0, 1).toUpperCase() + strs[j].substring(1);
                    }

                    Method method = clazz.getDeclaredMethod(methodName, clazz.getDeclaredField(fieldName).getType());
                    method.invoke(data, rs.getObject(columnName));
                }

                result.add(data);
            }
        } catch (InstantiationException e) {
            e.printStackTrace();
        } catch (InvocationTargetException e) {
            e.printStackTrace();
        } catch (NoSuchMethodException e) {
            e.printStackTrace();
        } catch (SQLException throwables) {
            throwables.printStackTrace();
        } catch (IllegalAccessException e) {
            e.printStackTrace();
        } catch (NoSuchFieldException e) {
            e.printStackTrace();
        } finally {
            try {
                DatabaseUtil.close(ps, rs);
            } catch (SQLException e) {
                e.printStackTrace();
            }
        }
        return result.size() > 0 ? result : null;
    }

    public static <T> T executeQueryOne(String sql, Class<T> clazz, Object... params) {
        List<T> list = null;
        try {
            list = executeQuery(sql, clazz, params);
        } catch (Exception e) {
            e.printStackTrace();
        }
        return list != null ? list.get(0) : null;
    }

    public static long getCount(String sql, Object... params) {
        long count = 0;
        PreparedStatement ps = null;
        ResultSet rs = null;
        try {
            // 得到用于发送SQL语句的句柄
            ps = DatabaseUtil.getConnection().prepareStatement(sql);
            // 设置参数
            for (int i = 0; i < params.length; i++) {
                ps.setObject(i + 1, params[i]);
            }
            rs = ps.executeQuery();

            if (rs.next()) {
                count = rs.getLong(1);
            }
        } catch (SQLException e) {
            e.printStackTrace();
        } finally {
            try {
                DatabaseUtil.close(ps, rs);
            } catch (SQLException e) {
                e.printStackTrace();
            }
        }
        return count;
    }
}
```



```java
package com.softeem.utils;


import com.fasterxml.jackson.core.JsonProcessingException;
import com.fasterxml.jackson.databind.JavaType;
import com.fasterxml.jackson.databind.ObjectMapper;

import java.io.IOException;
import java.util.List;

/**
 * 淘淘商城自定义响应结构
 */
public class JsonUtils {

    // 定义jackson对象
    private static final ObjectMapper MAPPER = new ObjectMapper();

    /**
     * 将对象转换成json字符串。
     * <p>Title: pojoToJson</p>
     * <p>Description: </p>
     * @param data
     * @return
     */
    public static String objectToJson(Object data) {
       try {
         String string = MAPPER.writeValueAsString(data);
         return string;
      } catch (JsonProcessingException e) {
         e.printStackTrace();
      } catch (IOException e) {
            e.printStackTrace();
        }
        return null;
    }
    
    /**
     * 将json结果集转化为对象
     * 
     * @param jsonData json数据
     * @param beanType 对象中的object类型
     * @return
     */
    public static <T> T jsonToPojo(String jsonData, Class<T> beanType) {
        try {
            T t = MAPPER.readValue(jsonData, beanType);
            return t;
        } catch (Exception e) {
           e.printStackTrace();
        }
        return null;
    }
    /**
     * 将json数据转换成pojo对象list
     * <p>Title: jsonToList</p>
     * <p>Description: </p>
     * @param jsonData
     * @param beanType
     * @return
     */
    public static <T>List<T> jsonToList(String jsonData, Class<T> beanType) {
       JavaType javaType = MAPPER.getTypeFactory().constructParametricType(List.class, beanType);
       try {
          List<T> list = MAPPER.readValue(jsonData, javaType);
          return list;
      } catch (Exception e) {
         e.printStackTrace();
      }
       return null;
    }   
}
```



**Over ！实习结束 	: )**





​	